# COVID-19 è¿½è¸ªå™¨ ğŸ¦ 

ä¸€ä¸ªä½¿ç”¨Flutterå¼€å‘çš„COVID-19ç–«æƒ…è¿½è¸ªåº”ç”¨ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹ Flutterå¼€å‘ã€‚é¡¹ç›®å·²å‡çº§ä¸ºä¼ä¸šçº§æ¶æ„ï¼Œé‡‡ç”¨ç°ä»£åŒ–æŠ€æœ¯æ ˆå’Œæœ€ä½³å®è·µã€‚

## é¡¹ç›®ç®€ä»‹ ğŸ“–

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå®Œæ•´çš„Flutterç§»åŠ¨åº”ç”¨ï¼Œç”¨äºè¿½è¸ªå…¨çƒå’Œå„å›½çš„COVID-19ç–«æƒ…æ•°æ®ã€‚é¡¹ç›®ç»è¿‡æ”¹é€ ä¼˜åŒ–ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šè¯¦ç»†ï¼Œç‰¹åˆ«é€‚åˆFlutteråˆå­¦è€…å­¦ä¹ å’Œå‚è€ƒã€‚

## ä¸»è¦åŠŸèƒ½ âœ¨

- **å…¨çƒç–«æƒ…æ¦‚è§ˆ**ï¼šæ˜¾ç¤ºå…¨çƒç´¯è®¡ç¡®è¯Šã€æ­»äº¡ã€åº·å¤ã€æ´»è·ƒç—…ä¾‹ç­‰ç»Ÿè®¡æ•°æ®
- **å›½å®¶è¶‹åŠ¿å›¾è¡¨**ï¼šä½¿ç”¨æŠ˜çº¿å›¾å±•ç¤ºç‰¹å®šå›½å®¶çš„æ¯æ—¥ç—…ä¾‹ã€æ­»äº¡ã€åº·å¤è¶‹åŠ¿
- **å›½å®¶åˆ—è¡¨**ï¼šä»¥æŠ˜å åˆ—è¡¨çš„å½¢å¼å±•ç¤ºæ‰€æœ‰å—å½±å“å›½å®¶çš„è¯¦ç»†æ•°æ®
- **æœç´¢åŠŸèƒ½**ï¼šæ”¯æŒæŒ‰å›½å®¶åç§°æœç´¢ï¼Œå¿«é€ŸæŸ¥çœ‹ç‰¹å®šå›½å®¶æ•°æ®
- **ä¸‹æ‹‰åˆ·æ–°**ï¼šæ”¯æŒä¸‹æ‹‰è·å–æœ€æ–°ç–«æƒ…æ•°æ®
- **æ·±è‰²ä¸»é¢˜**ï¼šé‡‡ç”¨Material Designæ·±è‰²ä¸»é¢˜ï¼Œè§†è§‰ä½“éªŒè‰¯å¥½

## ä¼ä¸šçº§æ¶æ„å‡çº§ ğŸš€

æœ¬é¡¹ç›®å·²ä»å­¦ä¹ é¡¹ç›®å‡çº§ä¸ºä¼ä¸šçº§åº”ç”¨ï¼Œé‡‡ç”¨ç°ä»£åŒ–æ¶æ„æ¨¡å¼ï¼š

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| åŠŸèƒ½ | æŠ€æœ¯é€‰å‹ | æœ€æ–°ç‰ˆæœ¬ | Web å¯¹æ¯” |
|------|----------|----------|----------|
| **çŠ¶æ€ç®¡ç†** | Riverpod | ^2.6.1 | Zustand/Pinia |
| **ç½‘ç»œè¯·æ±‚** | Dio | ^5.7.0 | Axios/Fetch |
| **è·¯ç”±ç®¡ç†** | GoRouter | ^14.6.0 | React Router |
| **ä¾èµ–æ³¨å…¥** | Riverpod Providers | ^2.6.1 | Context/InversifyJS |
| **æ—¥å¿—ç³»ç»Ÿ** | Logger | ^2.4.0 | Winston/Pino |
| **æŒä¹…åŒ–å­˜å‚¨** | SharedPreferences | ^2.3.2 | localStorage |
| **å›½é™…åŒ–** | Intl | ^0.20.1 | i18next |

### æ¶æ„è®¾è®¡åŸåˆ™

- **å•ä¸€æ•°æ®æº**ï¼šRiverpod ä½œä¸ºå”¯ä¸€çš„çŠ¶æ€ç®¡ç†å’Œä¾èµ–æ³¨å…¥æ–¹æ¡ˆ
- **åˆ†å±‚æ¶æ„**ï¼šæ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼ˆConfig â†’ Services â†’ Notifiers â†’ Providers â†’ Screensï¼‰
- **ç±»å‹å®‰å…¨**ï¼šå…¨é¢ä½¿ç”¨ Dart null safety å’Œæ˜¾å¼ç±»å‹æ³¨è§£
- **å¯æµ‹è¯•æ€§**ï¼šä¾èµ–æ³¨å…¥ä¾¿äºå•å…ƒæµ‹è¯•å’Œ Mock

## é¡¹ç›®ç»“æ„ ğŸ“

```
lib/
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ app_config.dart          # åº”ç”¨é…ç½®ç±»ï¼ˆAPIã€è¶…æ—¶ã€ä¸»é¢˜ï¼‰
â”‚   â”œâ”€â”€ colors.dart             # é¢œè‰²å¸¸é‡
â”‚   â””â”€â”€ constants.dart          # ä¸šåŠ¡å¸¸é‡
â”‚
â”œâ”€â”€ core/                         # æ ¸å¿ƒåŠŸèƒ½å±‚
â”‚   â””â”€â”€ network/                # ç½‘ç»œå±‚
â”‚       â””â”€â”€ dio_client.dart    # Dio å®¢æˆ·ç«¯é…ç½®ï¼ˆå•ä¾‹ + æ‹¦æˆªå™¨ï¼‰
â”‚
â”œâ”€â”€ models/                       # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ covid_models.dart      # COVID-19 æ•°æ®æ¨¡å‹
â”‚
â”œâ”€â”€ notifiers/                    # çŠ¶æ€ç®¡ç†å™¨ï¼ˆRiverpod StateNotifierï¼‰
â”‚   â”œâ”€â”€ country_list_notifier.dart    # å›½å®¶åˆ—è¡¨çŠ¶æ€
â”‚   â””â”€â”€ global_stats_notifier.dart  # å…¨çƒç»Ÿè®¡çŠ¶æ€
â”‚
â”œâ”€â”€ providers/                    # Riverpod Providersï¼ˆä¾èµ–æ³¨å…¥ï¼‰
â”‚   â””â”€â”€ providers.dart            # ç»Ÿä¸€ Provider å®šä¹‰
â”‚       â”œâ”€â”€ é…ç½® Providersï¼ˆä¸»é¢˜ã€localeï¼‰
â”‚       â”œâ”€â”€ æœåŠ¡ Providersï¼ˆLoggerï¼‰
â”‚       â”œâ”€â”€ çŠ¶æ€ Providersï¼ˆStateNotifierï¼‰
â”‚       â””â”€â”€ è·¯ç”± Providerï¼ˆGoRouterï¼‰
â”‚
â”œâ”€â”€ screens/                      # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ global_stats.dart       # å…¨çƒç»Ÿè®¡é¡µé¢ï¼ˆä½¿ç”¨ Riverpodï¼‰
â”‚   â”œâ”€â”€ country_list.dart       # å›½å®¶åˆ—è¡¨é¡µé¢ï¼ˆä½¿ç”¨ Riverpodï¼‰
â”‚   â””â”€â”€ country_search.dart    # æœç´¢åŠŸèƒ½
â”‚
â”œâ”€â”€ services/                     # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â””â”€â”€ api_service.dart       # API æœåŠ¡ï¼ˆä½¿ç”¨ Dioï¼‰
â”‚
â”œâ”€â”€ widgets/                      # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ drawer.dart            # ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ folding_cell.dart      # æŠ˜å å•å…ƒæ ¼
â”‚   â”œâ”€â”€ graph.dart            # å›¾è¡¨ç»„ä»¶
â”‚   â””â”€â”€ info_card.dart        # ä¿¡æ¯å¡ç‰‡
â”‚
â””â”€â”€ main.dart                     # åº”ç”¨å…¥å£
```

## æ ¸å¿ƒåŠŸèƒ½è¯¦è§£ ğŸ”‘

### 0. ç¯å¢ƒé…ç½®

**é…ç½®æ–‡ä»¶**ï¼š`.env`ã€`.env.development`ã€`.env.production`

**ç¯å¢ƒå˜é‡è¯´æ˜**ï¼š
```env
# API é…ç½®
API_BASE_URL=https://disease.sh/v3/covid-19

# ç¯å¢ƒå˜é‡
ENVIRONMENT=development

# åŠŸèƒ½å¼€å…³
ENABLE_LOGGING=true
ENABLE_DEBUG=true

# ç¼“å­˜é…ç½®
CACHE_DURATION_MINUTES=30
```

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰
flutter run

# ç”Ÿäº§ç¯å¢ƒ
flutter run --dart-define=ENVIRONMENT=production

# æˆ–è€…ä¿®æ”¹ .env è½¯é“¾æ¥
# Windows: mklink .env .env.development
# Linux/Mac: ln -s .env.development .env
```

**ä»£ç è¯»å–**ï¼š`lib/config/app_config.dart`
```dart
// è·å– API åœ°å€ï¼ˆä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰
final apiUrl = AppConfig.apiBaseUrl;

// åˆ¤æ–­å½“å‰ç¯å¢ƒ
if (AppConfig.isDevelopment) {
  // å¼€å‘ç¯å¢ƒé…ç½®
}

// åˆ¤æ–­è°ƒè¯•æ¨¡å¼
if (AppConfig.debugMode) {
  // æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯
}
```

**Web æŠ€æœ¯å¯¹æ¯”**ï¼š
```dart
// Flutter (flutter_dotenv)
await dotenv.load(fileName: '.env');
final apiUrl = dotenv.env['API_BASE_URL'];

// Web (.env)
const apiUrl = import.meta.env.VITE_API_URL;
// æˆ–ä» process.env è¯»å–
const apiUrl = process.env.API_BASE_URL;
```

### 1. ç½‘ç»œè¯·æ±‚å±‚ï¼ˆDioï¼‰

**é…ç½®æ–‡ä»¶**ï¼š`lib/core/network/dio_client.dart`

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… å•ä¾‹æ¨¡å¼ï¼ˆç»Ÿä¸€ Dio å®ä¾‹ç®¡ç†ï¼‰
- âœ… åŸºç¡€ URL å’Œè¶…æ—¶é…ç½®
- âœ… è¯·æ±‚æ‹¦æˆªå™¨ï¼ˆæ·»åŠ  headersã€tokenï¼‰
- âœ… å“åº”æ‹¦æˆªå™¨ï¼ˆå¤„ç†å“åº”æ•°æ®ï¼‰
- âœ… é”™è¯¯æ‹¦æˆªå™¨ï¼ˆç»Ÿä¸€é”™è¯¯å¤„ç†ï¼‰
- âœ… æ—¥å¿—æ‹¦æˆªå™¨ï¼ˆå¼€å‘ç¯å¢ƒæ‰“å°è¯¦ç»†æ—¥å¿—ï¼‰

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```dart
// åœ¨ API æœåŠ¡ä¸­ä½¿ç”¨
import '../core/network/dio_client.dart';

final response = await DioClient.dio.get(AppConfig.endpointGlobal);
```

**Web æŠ€æœ¯å¯¹æ¯”**ï¼š
```dart
// Flutter (Dio)
final response = await DioClient.dio.get('/api/data');

// Web (Axios)
const response = await axios.get('/api/data');

// Web (Fetch)
const response = await fetch('/api/data');
const data = await response.json();
```

**é…ç½®è¯´æ˜**ï¼š
- API åœ°å€ã€è¶…æ—¶ç­‰é…ç½®ä»ç¯å¢ƒå˜é‡è¯»å–ï¼ˆ`AppConfig.apiBaseUrl`ï¼‰
- æ”¯æŒå¼€å‘/ç”Ÿäº§ç¯å¢ƒåˆ‡æ¢
- è°ƒè¯•æ¨¡å¼å’Œæ—¥å¿—å¼€å…³å¯é…ç½®

### 2. çŠ¶æ€ç®¡ç†ï¼ˆRiverpod + StateNotifierï¼‰

**è®¾è®¡æ¨¡å¼**ï¼š
- **Provider å‚æ•°æ³¨å…¥**ï¼šé€šè¿‡ `ref.watch()` åœ¨ Notifier æ„é€ å‡½æ•°ä¸­æ³¨å…¥ä¾èµ–
- **StateNotifier æ¨¡å¼**ï¼šç®¡ç†å¼‚æ­¥çŠ¶æ€å’Œä¸šåŠ¡é€»è¾‘
- **FutureProvider.family**ï¼šå‚æ•°åŒ–å¼‚æ­¥æ•°æ®ï¼ˆå¦‚å†å²æ•°æ®æŸ¥è¯¢ï¼‰

**Providers å®šä¹‰**ï¼š`lib/providers/providers.dart`

| Provider | ç±»å‹ | è¯´æ˜ |
|----------|--------|------|
| `themeProvider` | Provider | åº”ç”¨ä¸»é¢˜é…ç½® |
| `defaultCountryProvider` | Provider | é»˜è®¤å›½å®¶ |
| `localeProvider` | Provider | å½“å‰è¯­è¨€ |
| `loggerProvider` | Provider | Logger å®ä¾‹ |
| `sharedPreferencesProvider` | FutureProvider | SharedPreferences å®ä¾‹ |
| `globalStatsProvider` | StateNotifierProvider | å…¨çƒç»Ÿè®¡æ•°æ® |
| `countriesProvider` | StateNotifierProvider | å›½å®¶åˆ—è¡¨ï¼ˆæ”¯æŒæœç´¢ï¼‰ |
| `historicalDataProvider` | FutureProvider.family | å›½å®¶å†å²æ•°æ® |
| `countryDataProvider` | FutureProvider.family | å›½å®¶è¯¦ç»†æ•°æ® |
| `routerProvider` | Provider | GoRouter è·¯ç”±é…ç½® |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```dart
// ConsumerWidget ä¸­ä½¿ç”¨
class MyScreen extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final countriesAsync = ref.watch(countriesProvider);

    return countriesAsync.when(
      loading: () => CircularProgressIndicator(),
      data: (countries) => ListView.builder(...),
      error: (error, stack) => Text('åŠ è½½å¤±è´¥: $error'),
    );
  }
}

// æ‰‹åŠ¨åˆ·æ–°
ref.read(countriesProvider.notifier).refresh();
```

**Web æŠ€æœ¯å¯¹æ¯”**ï¼š
```dart
// Flutter (Riverpod)
final countries = ref.watch(countriesProvider);

// Web (Zustand)
const countries = useCountryStore(state => state.countries);

// Web (Pinia)
const { countries } = storeToRefs(countryStore);
```

### 3. ä¾èµ–æ³¨å…¥ï¼ˆRiverpod Providersï¼‰

**å®ç°æ–¹å¼**ï¼šä½¿ç”¨ Riverpod çš„ Provider ç³»ç»Ÿä½œä¸ºä¾èµ–æ³¨å…¥å®¹å™¨

**ä¼˜åŠ¿**ï¼š
- æ— éœ€é¢å¤– DI åº“ï¼ˆå¦‚ GetItï¼‰
- ç±»å‹å®‰å…¨ï¼ˆç¼–è¯‘æ—¶æ£€æŸ¥ï¼‰
- è‡ªåŠ¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
- æ˜“äºæµ‹è¯•ï¼ˆå¯ä»¥è½»æ¾æ›¿æ¢ä¾èµ–ï¼‰

**ä¾èµ–æ³¨å…¥æµç¨‹**ï¼š
```dart
// 1. å®šä¹‰æœåŠ¡ Provider
final loggerProvider = Provider<Logger>((ref) {
  return Logger();
});

// 2. åœ¨ Notifier ä¸­é€šè¿‡å‚æ•°æ³¨å…¥
class GlobalStatsNotifier extends StateNotifier<...> {
  final Logger _logger;

  GlobalStatsNotifier(this._logger) : super(...) {
    // ä½¿ç”¨æ³¨å…¥çš„ logger
    _logger.i('åˆå§‹åŒ–å®Œæˆ');
  }
}

// 3. åœ¨ Provider å®šä¹‰ä¸­åˆ›å»º Notifier
final globalStatsProvider = StateNotifierProvider<...>((ref) {
  final logger = ref.watch(loggerProvider);
  return GlobalStatsNotifier(logger);
});
```

**Web æŠ€æœ¯å¯¹æ¯”**ï¼š
```dart
// Flutter (Riverpod Provider)
final logger = ref.watch(loggerProvider);

// Web (React Context)
const logger = useContext(LogContext);

// Web (InversifyJS)
const logger = container.get(LogService);
```

### 4. æ—¥å¿—ç³»ç»Ÿï¼ˆLoggerï¼‰

**ä½¿ç”¨æ–¹å¼**ï¼šç›´æ¥ä½¿ç”¨ Logger åŒ…ï¼Œæä¾›å½©è‰²æ—¥å¿—å’Œåˆ†çº§è¾“å‡º

**æ—¥å¿—çº§åˆ«**ï¼š
- ğŸ› `d` - Debugï¼ˆè°ƒè¯•ä¿¡æ¯ï¼‰
- â„¹ï¸ `i` - Infoï¼ˆæ™®é€šä¿¡æ¯ï¼‰
- âš ï¸ `w` - Warningï¼ˆè­¦å‘Šï¼‰
- âŒ `e` - Errorï¼ˆé”™è¯¯ï¼‰
- ğŸ”¥ `f` - Fatalï¼ˆè‡´å‘½é”™è¯¯ï¼‰

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```dart
// åœ¨ Notifier ä¸­ä½¿ç”¨
_logger.i('å¼€å§‹åŠ è½½å›½å®¶åˆ—è¡¨');
_logger.e('åŠ è½½å¤±è´¥', error, stackTrace);
```

**Web æŠ€æœ¯å¯¹æ¯”**ï¼š
```dart
// Flutter (Logger)
logger.i('åº”ç”¨å¯åŠ¨');
logger.error('åŠ è½½å¤±è´¥', error, stackTrace);

// Web (Winston)
logger.info('åº”ç”¨å¯åŠ¨');
logger.error('åŠ è½½å¤±è´¥', { error, stackTrace });
```

### 5. æŒä¹…åŒ–å­˜å‚¨ï¼ˆSharedPreferencesï¼‰

**åŠŸèƒ½**ï¼š
- é”®å€¼å¯¹å­˜å‚¨ï¼ˆç±»ä¼¼ localStorageï¼‰
- æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼ˆStringã€intã€boolï¼‰
- å¼‚æ­¥ API

**ä½¿ç”¨æ–¹å¼**ï¼š
```dart
// åˆå§‹åŒ–ï¼ˆåœ¨ Notifier ä¸­ï¼‰
_prefs = await SharedPreferences.getInstance();

// å­˜å‚¨æ•°æ®
await _prefs.setString('default_country', 'China');

// è¯»å–æ•°æ®
final country = _prefs.getString('default_country');
```

**Web æŠ€æœ¯å¯¹æ¯”**ï¼š
```dart
// Flutter (SharedPreferences)
await prefs.setString('key', 'value');
final value = await prefs.getString('key');

// Web (LocalStorage)
localStorage.setItem('key', 'value');
const value = localStorage.getItem('key');
```

### 6. åº”ç”¨é…ç½®ï¼ˆAppConfigï¼‰

**é…ç½®æ–‡ä»¶**ï¼š`lib/config/app_config.dart`

**é…ç½®é¡¹**ï¼š
- API åŸºç¡€ URL å’Œç«¯ç‚¹
- ç½‘ç»œè¶…æ—¶é…ç½®
- é»˜è®¤å›½å®¶
- ä¸»é¢˜é…ç½®
- è°ƒè¯•å¼€å…³
- ç¼“å­˜é…ç½®

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```dart
// è·å– API ç«¯ç‚¹
final url = AppConfig.endpointGlobal;

// è·å–è¶…æ—¶é…ç½®
final timeout = AppConfig.connectTimeout;
```

### 7. è·¯ç”±ç®¡ç†ï¼ˆGoRouterï¼‰

**é…ç½®æ–‡ä»¶**ï¼š`lib/providers/providers.dart` (routerProvider)

**åŠŸèƒ½**ï¼š
- âœ… å£°æ˜å¼è·¯ç”±
- âœ… åµŒå¥—è·¯ç”±
- âœ… é”™è¯¯é¡µé¢
- âœ… æ·±é“¾æ¥æ”¯æŒ

**è·¯ç”±é…ç½®**ï¼š
| è·¯å¾„ | åç§° | é¡µé¢ |
|--------|------|------|
| `/` | home | GlobalStatsScreen |
| `/global-stats` | globalStats | GlobalStatsScreen |
| `/countries` | countries | CountryListScreen |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```dart
// å¯¼èˆªåˆ°æŒ‡å®šè·¯ç”±
context.push('/countries');

// è¿”å›ä¸Šä¸€é¡µ
context.pop();

// æ›¿æ¢å½“å‰è·¯ç”±
context.pushReplacement('/home');
```

**Web æŠ€æœ¯å¯¹æ¯”**ï¼š
```dart
// Flutter (GoRouter)
GoRoute(path: '/countries', builder: (context, state) => CountryListScreen())

// Web (React Router)
<Route path="/countries" element={<CountryListScreen />} />
```

## æ•°æ®æµå›¾ ğŸ“Š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   main.dart    â”‚  åº”ç”¨å…¥å£
â”‚  (ProviderScope)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ routerProvider (GoRouter)
         â”‚
         â”œâ”€â†’ globalStatsProvider
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  â†“          â”‚
         â”‚  GlobalStatsNotifier
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
         â”‚  â”‚      â†“      â†“
         â”‚  â”‚  ApiService  Logger
         â”‚  â”‚      (Dio HTTP)
         â”‚  â†“      â†“
         â”‚  DioClient  Provider
         â”‚  â”Œâ”€â”€â”¬â”€â”€â”€â”
         â”‚  â†“  â†“   â†“
         â””â”€ API   Log
           Network  System
```

## è¿è¡Œé¡¹ç›® ğŸš€

### å‰ç½®è¦æ±‚
- Flutter SDK >= 3.0.0
- Dart >= 3.0.0
- å·²é…ç½® Android Studio æˆ– VS Code
- å·²é…ç½®æ¨¡æ‹Ÿå™¨æˆ–çœŸæœºè®¾å¤‡

### å®‰è£…æ­¥éª¤

1. **å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®**
   ```bash
   cd your_project_directory
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   cd helloFluDemo
   flutter pub get
   ```

3. **è¿è¡Œåº”ç”¨**
   ```bash
   # å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰
   flutter run

   # Chrome å›ºå®šç«¯å£è°ƒè¯•
   flutter run -d chrome --web-port=30000
   ```

### Android é…ç½®

åœ¨ `android/app/src/main/AndroidManifest.xml` ä¸­æ·»åŠ äº’è”ç½‘æƒé™ï¼š

```xml
<uses-permission android:name="android.permission.INTERNET" />
```

## å¼€å‘æŒ‡å— ğŸ“š

### å­¦ä¹ è·¯å¾„

#### ç¬¬ä¸€é˜¶æ®µï¼šç†è§£æ¶æ„
1. é˜…è¯» `main.dart` äº†è§£åº”ç”¨å¯åŠ¨æµç¨‹
2. é˜…è¯» `lib/config/` äº†è§£é…ç½®ç®¡ç†
3. é˜…è¯» `lib/providers/providers.dart` ç†è§£ Riverpod Provider ç³»ç»Ÿ

#### ç¬¬äºŒé˜¶æ®µï¼šå®è·µä½¿ç”¨
1. å°è¯•ä¿®æ”¹ API é…ç½®ï¼ˆè¶…æ—¶ã€æ‹¦æˆªå™¨ï¼‰
2. æ·»åŠ æ–°çš„ Provider
3. å®ç°æ•°æ®ç¼“å­˜é€»è¾‘

#### ç¬¬ä¸‰é˜¶æ®µï¼šæ‰©å±•åŠŸèƒ½
1. æ·»åŠ æ–°çš„é¡µé¢
2. å®ç°ä¸»é¢˜åˆ‡æ¢
3. æ·»åŠ å›½é™…åŒ–æ”¯æŒ

### æ·»åŠ æ–°çš„ API æ–¹æ³•

1. åœ¨ `lib/services/api_service.dart` ä¸­æ·»åŠ æ–¹æ³•
2. ä½¿ç”¨ `DioClient.dio` å‘é€è¯·æ±‚
3. åœ¨ `lib/providers/providers.dart` ä¸­åˆ›å»ºå¯¹åº”çš„ Provider

### æ·»åŠ æ–°çš„é¡µé¢

1. åˆ›å»ºé¡µé¢ç»„ä»¶ï¼ˆä½¿ç”¨ `ConsumerWidget` æˆ– `ConsumerStatefulWidget`ï¼‰
2. ä½¿ç”¨ `ref.watch()` è®¢é˜…çŠ¶æ€
3. åœ¨ `routerProvider` ä¸­æ·»åŠ è·¯ç”±

### ä»£ç è´¨é‡

è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ä»£ç è´¨é‡ï¼š

```bash
# åˆ†æä»£ç 
flutter analyze

# è¿è¡Œæµ‹è¯•
flutter test

# æ ¼å¼åŒ–ä»£ç 
dart format .
```

## æ•°æ®æ¥æº ğŸ“Š

æœ¬é¡¹ç›®ä½¿ç”¨å…è´¹çš„å…¬å¼€ APIï¼š[disease.sh](https://disease.sh/)

- **å…¨çƒæ•°æ®**ï¼š`https://disease.sh/v3/covid-19/all`
- **å›½å®¶åˆ—è¡¨**ï¼š`https://disease.sh/v3/covid-19/countries?sort=country`
- **å›½å®¶å†å²æ•°æ®**ï¼š`https://disease.sh/v3/covid-19/historical/{country}`

## æ ¸å¿ƒæ–‡ä»¶è¯´æ˜ ğŸ“

### é…ç½®æ–‡ä»¶

- **`lib/config/app_config.dart`**
  - åº”ç”¨é…ç½®ç±»ï¼ˆAPI åœ°å€ã€è¶…æ—¶ã€ä¸»é¢˜ï¼‰

- **`lib/config/colors.dart`**
  - é¢œè‰²å¸¸é‡å®šä¹‰

- **`lib/config/constants.dart`**
  - ä¸šåŠ¡å¸¸é‡ï¼ˆå¦‚é»˜è®¤å›½å®¶åç§°ï¼‰

### çŠ¶æ€ç®¡ç†

- **`lib/notifiers/global_stats_notifier.dart`**
  - å…¨çƒç»Ÿè®¡æ•°æ®çŠ¶æ€ç®¡ç†å™¨
  - ä½¿ç”¨ Logger è®°å½•æ—¥å¿—
  - æ”¯æŒåŠ è½½ã€åˆ·æ–°æ•°æ®

- **`lib/notifiers/country_list_notifier.dart`**
  - å›½å®¶åˆ—è¡¨çŠ¶æ€ç®¡ç†å™¨
  - æ”¯æŒæœç´¢åŠŸèƒ½

- **`lib/providers/providers.dart`**
  - ç»Ÿä¸€çš„ Provider å®šä¹‰
  - åŒ…å«é…ç½®ã€æœåŠ¡ã€çŠ¶æ€ã€è·¯ç”± Provider

### é¡µé¢ç»„ä»¶

- **`lib/screens/global_stats.dart`**
  - åŠŸèƒ½ï¼šæ˜¾ç¤ºå…¨çƒç–«æƒ…æ•°æ®å’Œä¸­å›½ï¼ˆé»˜è®¤ï¼‰çš„è¶‹åŠ¿å›¾è¡¨
  - çŸ¥è¯†ç‚¹ï¼š`ConsumerStatefulWidget`ã€`ref.watch()`ã€ä¸‹æ‹‰åˆ·æ–°ã€å›¾è¡¨é›†æˆ

- **`lib/screens/country_list.dart`**
  - åŠŸèƒ½ï¼šå±•ç¤ºæ‰€æœ‰å—å½±å“å›½å®¶çš„åˆ—è¡¨
  - çŸ¥è¯†ç‚¹ï¼š`ListView.builder`ã€æŠ˜å å•å…ƒæ ¼

- **`lib/screens/country_search.dart`**
  - åŠŸèƒ½ï¼šæä¾›å›½å®¶æœç´¢åŠŸèƒ½
  - çŸ¥è¯†ç‚¹ï¼š`SearchDelegate`ã€æœç´¢å»ºè®®

### æœåŠ¡å±‚

- **`lib/services/api_service.dart`**
  - å°è£…æ‰€æœ‰ API è°ƒç”¨
  - é”™è¯¯å¤„ç†å’Œæ•°æ®è½¬æ¢
  - ä½¿ç”¨ Dio å‘é€ HTTP è¯·æ±‚

- **`lib/core/network/dio_client.dart`**
  - Dio å®¢æˆ·ç«¯é…ç½®
  - æ‹¦æˆªå™¨ã€è¶…æ—¶ç®¡ç†
  - å•ä¾‹æ¨¡å¼

### å¯å¤ç”¨ç»„ä»¶

- **`lib/widgets/info_card.dart`**
  - åœ†è§’ä¿¡æ¯å¡ç‰‡ç»„ä»¶

- **`lib/widgets/drawer.dart`**
  - ä¾§è¾¹æ å¯¼èˆªç»„ä»¶

- **`lib/widgets/graph.dart`**
  - æŠ˜çº¿å›¾è¡¨ç»„ä»¶ï¼ˆä½¿ç”¨ fl_chartï¼‰

- **`lib/widgets/folding_cell.dart`**
  - æŠ˜å å•å…ƒæ ¼ç»„ä»¶

## å¸¸è§é—®é¢˜ â“

### Q: åº”ç”¨æ— æ³•åŠ è½½æ•°æ®ï¼Ÿ
A: è¯·æ£€æŸ¥ï¼š
1. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. æ˜¯å¦æ·»åŠ äº† INTERNET æƒé™ï¼ˆAndroidï¼‰
3. API æœåŠ¡æ˜¯å¦æ­£å¸¸

### Q: å¦‚ä½•ä¿®æ”¹é»˜è®¤æ˜¾ç¤ºçš„å›½å®¶ï¼Ÿ
A: åœ¨ `lib/config/app_config.dart` ä¸­ä¿®æ”¹ `defaultCountry` çš„å€¼ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢ï¼Ÿ
A:
1. åˆ›å»ºé¡µé¢ç»„ä»¶
2. åœ¨ `lib/providers/providers.dart` çš„ `routerProvider` ä¸­æ·»åŠ è·¯ç”±
3. ä½¿ç”¨ `context.push()` æˆ– `context.go()` å¯¼èˆª

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ API ç«¯ç‚¹ï¼Ÿ
A:
1. åœ¨ `lib/services/api_service.dart` ä¸­æ·»åŠ æ–¹æ³•
2. ä½¿ç”¨ `DioClient.dio` å‘é€è¯·æ±‚
3. åˆ›å»ºå¯¹åº”çš„ Providerï¼ˆå¦‚æœéœ€è¦ï¼‰

## è®¸å¯è¯ ğŸ“„

æœ¬é¡¹ç›®åŸºäºåŸé¡¹ç›®æ”¹é€ ï¼Œéµå¾ª Apache License 2.0ã€‚

åŸé¡¹ç›®åœ°å€ï¼šhttps://github.com/nisrulz/flutter-examples/tree/develop/covid19_mobile_app

## å‚è€ƒèµ„æº ğŸ”—

- [Riverpod å®˜æ–¹æ–‡æ¡£](https://riverpod.dev/)
- [Dio æ–‡æ¡£](https://pub.dev/packages/dio)
- [GoRouter æ–‡æ¡£](https://pub.dev/packages/go_router)
- [Logger æ–‡æ¡£](https://pub.dev/packages/logger)
- [fl_chart æ–‡æ¡£](https://pub.dev/packages/fl_chart)
- [Flutter æœ€ä½³å®è·µ](https://flutter.dev/docs/development/data-and-backend/state-mgmt/intro)

## è‡´è°¢ ğŸ™

- æ„Ÿè°¢ [nisrulz/flutter-examples](https://github.com/nisrulz/flutter-examples) æä¾›çš„åŸé¡¹ç›®
- æ•°æ®æ¥æºï¼š[disease.sh API](https://disease.sh/)
- Riverpod ç¤¾åŒºæä¾›çš„æœ€ä½³å®è·µ

---

**Happy Coding! ğŸ‰**
